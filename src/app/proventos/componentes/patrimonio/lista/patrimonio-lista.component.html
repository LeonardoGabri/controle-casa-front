<div class="page-container">
  <div class="page-header">
    <h1>Patrimônio</h1>
    <div class="actions">
      <button class="new-account-button" pButton label="Novo Patrimônio" icon="pi pi-plus" (click)="navegarNovoFormulario()"></button>
      <button
        pButton
        label="Atualizar Criptos"
        icon="pi pi-refresh"
        (click)="atualizarCriptos()"
        [disabled]="!podeAtualizarCriptos"
        pTooltip="{{ tooltipAtualizarCriptos }}"
        tooltipPosition="bottom"
      ></button>
      <span
        pTooltip="{{ tooltipAtualizarCriptos }}"
        tooltipPosition="bottom"
      ></span>
    </div>
  </div>

  <div class="patrimonio-cards">
    <div
      class="patrimonio-card"
      *ngFor="let item of itensPatrimonio"
      [class.selected]="item.id === patrimonioSelecionado?.id"
      (click)="selecionarPatrimonio(item)"
    >
      <div class="card-title">
        {{ item.conta.banco.nome }} - {{ item.tipo }}
        {{ item.moeda ? ' - ' + item.moeda : item.descricao ? ' - ' + item.descricao : '' }}
      </div>

      <div class="card-valor">
        {{ item.valor | currency:'BRL':'symbol':'1.2-2':'pt-BR' }}
      </div>

      <div class="card-actions">
        <button pButton icon="pi pi-plus" class="p-button-text"></button>
      </div>
    </div>
  </div>

  <!-- Lista de Transações -->
  <app-transacao-lista
    [patrimonioId]="patrimonioSelecionado?.id"
  ></app-transacao-lista>

</div>
